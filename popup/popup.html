<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=400, initial-scale=1.0" />
    <title>Omni AI</title>
    <link rel="stylesheet" href="popup.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/svg+xml" href="../assets/icons/logo.svg" />
  </head>
  <body>
    <div class="popup-container">
      <!-- Header -->
      <header class="header">
        <div class="logo">
          <img
            src="../assets/icons/logo.svg"
            alt="Omni AI"
            class="logo-icon"
          />
          <span class="logo-text">__MSG_popup_title__</span>
        </div>

        <!-- User Auth Section -->
        <div class="user-section" id="userSection">
          <!-- Signed Out State -->
          <button
            id="signInBtn"
            class="sign-in-btn"
            title="__MSG_auth_signIn__"
          >
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                fill="#4285F4"
              />
              <path
                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                fill="#34A853"
              />
              <path
                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                fill="#FBBC05"
              />
              <path
                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                fill="#EA4335"
              />
            </svg>
            <span>__MSG_auth_signIn__</span>
          </button>

          <!-- Signed In State (hidden by default) -->
          <div id="userInfo" class="user-info hidden">
            <img id="userAvatar" class="user-avatar" src="" alt="User" />
            <button id="userMenuBtn" class="user-menu-btn" title="Account menu">
              <svg
                width="12"
                height="12"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </button>
          </div>

          <!-- User Dropdown Menu -->
          <div id="userDropdown" class="user-dropdown hidden">
            <div class="user-dropdown-header">
              <img
                id="dropdownAvatar"
                class="dropdown-avatar"
                src=""
                alt="User"
              />
              <div class="dropdown-user-info">
                <span id="userName" class="user-name"></span>
                <span id="userEmail" class="user-email"></span>
              </div>
            </div>
            <div class="user-dropdown-divider"></div>
            <button id="signOutBtn" class="dropdown-item">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16 17 21 12 16 7"></polyline>
                <line x1="21" y1="12" x2="9" y2="12"></line>
              </svg>
              <span>__MSG_auth_signOut__</span>
            </button>
          </div>
        </div>

        <button
          id="settingsBtn"
          class="icon-btn"
          title="__MSG_settings_title__"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="12" cy="12" r="3"></circle>
            <path
              d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
            ></path>
          </svg>
        </button>
      </header>

      <!-- Quick Ask Section -->
      <section class="quick-ask">
        <div class="input-wrapper">
          <textarea
            id="quickAskInput"
            placeholder="__MSG_popup_quickAsk__"
            rows="2"
          ></textarea>
          <button id="askBtn" class="ask-btn" title="Ask AI">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        </div>
      </section>

      <!-- Context Presets -->
      <section class="presets">
        <h3 class="section-title">__MSG_popup_context__</h3>
        <div class="preset-chips">
          <button class="preset-chip active" data-preset="email">
            <span class="chip-icon">üìß</span>
            <span>__MSG_preset_email__</span>
          </button>
          <button class="preset-chip" data-preset="chat">
            <span class="chip-icon">üí¨</span>
            <span>__MSG_preset_chat__</span>
          </button>
          <button class="preset-chip" data-preset="social">
            <span class="chip-icon">üê¶</span>
            <span>__MSG_preset_social__</span>
          </button>
          <button class="preset-chip" data-preset="technical">
            <span class="chip-icon">üìù</span>
            <span>__MSG_preset_technical__</span>
          </button>
          <button class="preset-chip" data-preset="academic">
            <span class="chip-icon">üìö</span>
            <span>__MSG_preset_academic__</span>
          </button>
        </div>
      </section>

      <!-- Writing Actions -->
      <section class="actions">
        <h3 class="section-title">__MSG_popup_improveWriting__</h3>
        <div class="action-grid">
          <button class="action-btn" data-action="grammar">
            <span class="action-icon">‚úèÔ∏è</span>
            <span class="action-label">__MSG_action_grammar__</span>
          </button>
          <button class="action-btn" data-action="clarity">
            <span class="action-icon">üí°</span>
            <span class="action-label">__MSG_action_clarity__</span>
          </button>
          <button class="action-btn" data-action="tone">
            <span class="action-icon">üé≠</span>
            <span class="action-label">__MSG_action_tone__</span>
          </button>
          <button class="action-btn" data-action="concise">
            <span class="action-icon">üìê</span>
            <span class="action-label">__MSG_action_concise__</span>
          </button>
          <button class="action-btn" data-action="expand">
            <span class="action-icon">üìñ</span>
            <span class="action-label">__MSG_action_expand__</span>
          </button>
          <button class="action-btn" data-action="rephrase">
            <span class="action-icon">üîÑ</span>
            <span class="action-label">__MSG_action_rephrase__</span>
          </button>
        </div>
      </section>

      <!-- Quick Actions -->
      <section class="quick-actions">
        <h3 class="section-title">__MSG_popup_quickActions__</h3>
        <div class="quick-action-row">
          <button class="quick-action-btn" data-action="translate">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M5 8l6 6M4 14l6-6 2-3M2 5h12M7 2v3M22 22l-5-10-5 10M14 18h6"
              ></path>
            </svg>
            <span>__MSG_action_translate__</span>
          </button>
          <button class="quick-action-btn" data-action="summarize">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="21" y1="10" x2="3" y2="10"></line>
              <line x1="21" y1="6" x2="3" y2="6"></line>
              <line x1="21" y1="14" x2="3" y2="14"></line>
              <line x1="21" y1="18" x2="10" y2="18"></line>
            </svg>
            <span>__MSG_action_summarize__</span>
          </button>
          <button class="quick-action-btn" data-action="reply">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="9 17 4 12 9 7"></polyline>
              <path d="M20 18v-2a4 4 0 0 0-4-4H4"></path>
            </svg>
            <span>__MSG_action_reply__</span>
          </button>
          <button class="quick-action-btn" data-action="emojify">
            <span class="emoji-icon">üòä</span>
            <span>__MSG_action_emojify__</span>
          </button>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <span class="version">v0.1.0</span>
        <span class="status" id="status">
          <span class="status-dot"></span>
          __MSG_status_ready__
        </span>
      </footer>
    </div>

    <script src="popup.js" type="module"></script>
  </body>
</html>
